{"remainingRequest":"D:\\JayResp\\vuevhr\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\JayResp\\vuevhr\\src\\views\\sal\\SalSob.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\JayResp\\vuevhr\\src\\views\\sal\\SalSob.vue","mtime":1582856962523},{"path":"D:\\JayResp\\vuevhr\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\JayResp\\vuevhr\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\JayResp\\vuevhr\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\JayResp\\vuevhr\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJTYWxTb2IiLAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBzYWxhcmllczogW10sCiAgICAgICAgICAgIGRpYWxvZ1Zpc2libGU6ZmFsc2UsCiAgICAgICAgICAgIGFjdGl2ZUl0ZW1JbmRleDowLAogICAgICAgICAgICBkaWFsb2dUaXRsZTonJywKICAgICAgICAgICAgc2FsYXJ5SXRlbU5hbWU6WwogICAgICAgICAgICAgICAgJ+WfuuacrOW3pei1hCcsCiAgICAgICAgICAgICAgICAn5Lqk6YCa6KGl5YqpJywKICAgICAgICAgICAgICAgICfljYjppJDooaXliqknLAogICAgICAgICAgICAgICAgJ+WllumHkScsCiAgICAgICAgICAgICAgICAn5YW76ICB6YeR5q+U546HJywKICAgICAgICAgICAgICAgICflhbvogIHph5Hln7rmlbAnLAogICAgICAgICAgICAgICAgJ+WMu+eWl+S/nemZqeavlOeOhycsCiAgICAgICAgICAgICAgICAn5Yy755aX5L+d6Zmp5Z+65pWwJywKICAgICAgICAgICAgICAgICflhaznp6/ph5Hmr5TnjocnLAogICAgICAgICAgICAgICAgJ+WFrOenr+mHkeWfuuaVsCcsCiAgICAgICAgICAgICAgICAn6LSm5aWX5ZCN56ewJwogICAgICAgICAgICBdLAogICAgICAgICAgICBzYWxhcnk6ewogICAgICAgICAgICAgICAgYmFzaWNTYWxhcnk6MCwKICAgICAgICAgICAgICAgIHRyYWZmaWNTYWxhcnk6MCwKICAgICAgICAgICAgICAgIGx1bmNoU2FsYXJ5OjAsCiAgICAgICAgICAgICAgICBib251czowLAogICAgICAgICAgICAgICAgcGVuc2lvblBlcjowLAogICAgICAgICAgICAgICAgcGVuc2lvbkJhc2U6MCwKICAgICAgICAgICAgICAgIG1lZGljYWxQZXI6MCwKICAgICAgICAgICAgICAgIG1lZGljYWxCYXNlOjAsCiAgICAgICAgICAgICAgICBhY2N1bXVsYXRpb25GdW5kUGVyOjAsCiAgICAgICAgICAgICAgICBhY2N1bXVsYXRpb25GdW5kQmFzZTowLAogICAgICAgICAgICAgICAgbmFtZToiIgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSwKICAgIG1vdW50ZWQoKSB7CiAgICAgICAgdGhpcy5pbml0U2FsYXJpZXMoKTsKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgc2hvd1VwZGF0ZVNhbGFyeVZpZXcoZGF0YSl7CiAgICAgICAgICAgIHRoaXMuZGlhbG9nVGl0bGUgPSAi5L+u5pS55bel6LWE6LSm5aWXIjsKICAgICAgICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgICAgICAgICAgdGhpcy5hY3RpdmVJdGVtSW5kZXggPSAwOwogICAgICAgICAgICB0aGlzLnNhbGFyeSA9IHsKICAgICAgICAgICAgICAgICAgICBiYXNpY1NhbGFyeTpkYXRhLmJhc2ljU2FsYXJ5LAogICAgICAgICAgICAgICAgICAgIHRyYWZmaWNTYWxhcnk6ZGF0YS50cmFmZmljU2FsYXJ5LAogICAgICAgICAgICAgICAgICAgIGx1bmNoU2FsYXJ5OmRhdGEubHVuY2hTYWxhcnksCiAgICAgICAgICAgICAgICAgICAgYm9udXM6ZGF0YS5ib251cywKICAgICAgICAgICAgICAgICAgICBwZW5zaW9uUGVyOmRhdGEucGVuc2lvblBlciwKICAgICAgICAgICAgICAgICAgICBwZW5zaW9uQmFzZTpkYXRhLnBlbnNpb25CYXNlLAogICAgICAgICAgICAgICAgICAgIG1lZGljYWxQZXI6ZGF0YS5tZWRpY2FsUGVyLAogICAgICAgICAgICAgICAgICAgIG1lZGljYWxCYXNlOmRhdGEubWVkaWNhbEJhc2UsCiAgICAgICAgICAgICAgICAgICAgYWNjdW11bGF0aW9uRnVuZFBlcjpkYXRhLmFjY3VtdWxhdGlvbkZ1bmRQZXIsCiAgICAgICAgICAgICAgICAgICAgYWNjdW11bGF0aW9uRnVuZEJhc2U6ZGF0YS5hY2N1bXVsYXRpb25GdW5kQmFzZSwKICAgICAgICAgICAgICAgICAgICBuYW1lOmRhdGEubmFtZSwKICAgICAgICAgICAgICAgICAgICBpZDpkYXRhLmlkCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGRlbGV0ZVNhbGFyeShkYXRhKXsKICAgICAgICAgICAgdGhpcy4kY29uZmlybSgn5q2k5pON5L2c5bCG5rC45LmF5Yig6Zmk44CQJytkYXRhLm5hbWUrJ+OAkeWll+i0piwg5piv5ZCm57un57utPycsICfmj5DnpLonLCB7CiAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICAgICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlUmVxdWVzdCgiL3NhbGFyeS9zb2IvIitkYXRhLmlkKS50aGVuKHJlc3A9PnsKICAgICAgICAgICAgICAgICAgICBpZiAocmVzcCl7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdFNhbGFyaWVzKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICflt7Llj5bmtojliKDpmaQnCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBwcmVTdGVwKCl7CiAgICAgICAgICAgIGlmICh0aGlzLmFjdGl2ZUl0ZW1JbmRleD09MCl7CiAgICAgICAgICAgICAgICBhbGVydCgibm8iKQogICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgIH1lbHNlIGlmICh0aGlzLmFjdGl2ZUl0ZW1JbmRleD09MTApewogICAgICAgICAgICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZUl0ZW1JbmRleCA9IDA7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5hY3RpdmVJdGVtSW5kZXgtLTsKICAgICAgICB9LAogICAgICAgIG5leHRTdGVwKCl7CiAgICAgICAgICAgIGlmICh0aGlzLmFjdGl2ZUl0ZW1JbmRleD09MTApewogICAgICAgICAgICAgICAgaWYgKHRoaXMuc2FsYXJ5LmlkKXsKICAgICAgICAgICAgICAgICAgICB0aGlzLnB1dFJlcXVlc3QoIi9zYWxhcnkvc29iLyIsdGhpcy5zYWxhcnkpLnRoZW4ocmVzcD0+ewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXRTYWxhcmllcygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3N0UmVxdWVzdCgiL3NhbGFyeS9zb2IvIix0aGlzLnNhbGFyeSkudGhlbihyZXNwPT57CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdFNhbGFyaWVzKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5hY3RpdmVJdGVtSW5kZXgrKzsKICAgICAgICB9LAogICAgICAgIHNob3dBZGRTYWxhcnlWaWV3KCl7CiAgICAgICAgICAgIHRoaXMuc2FsYXJ5ID0gewogICAgICAgICAgICAgICAgYmFzaWNTYWxhcnk6MCwKICAgICAgICAgICAgICAgICAgICB0cmFmZmljU2FsYXJ5OjAsCiAgICAgICAgICAgICAgICAgICAgbHVuY2hTYWxhcnk6MCwKICAgICAgICAgICAgICAgICAgICBib251czowLAogICAgICAgICAgICAgICAgICAgIHBlbnNpb25QZXI6MCwKICAgICAgICAgICAgICAgICAgICBwZW5zaW9uQmFzZTowLAogICAgICAgICAgICAgICAgICAgIG1lZGljYWxQZXI6MCwKICAgICAgICAgICAgICAgICAgICBtZWRpY2FsQmFzZTowLAogICAgICAgICAgICAgICAgICAgIGFjY3VtdWxhdGlvbkZ1bmRQZXI6MCwKICAgICAgICAgICAgICAgICAgICBhY2N1bXVsYXRpb25GdW5kQmFzZTowLAogICAgICAgICAgICAgICAgICAgIG5hbWU6IiIKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLmFjdGl2ZUl0ZW1JbmRleCA9IDA7CiAgICAgICAgICAgIHRoaXMuZGlhbG9nVGl0bGUgPSAi5re75Yqg5bel6LWE6LSm5aWXIgogICAgICAgICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgICAgIH0sCiAgICAgICAgaW5pdFNhbGFyaWVzKCkgewogICAgICAgICAgICB0aGlzLmdldFJlcXVlc3QoIi9zYWxhcnkvc29iLyIpLnRoZW4ocmVzcCA9PiB7CiAgICAgICAgICAgICAgICBpZiAocmVzcCkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuc2FsYXJpZXMgPSByZXNwOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["SalSob.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SalSob.vue","sourceRoot":"src/views/sal","sourcesContent":["<template>\r\n    <div>\r\n        <div style=\"display: flex;justify-content: space-between\">\r\n            <el-button icon=\"el-icon-plus\" size=\"mini\" type=\"primary\" @click=\"showAddSalaryView\">添加工资套账</el-button>\r\n            <el-button icon=\"el-icon-refresh\" size=\"mini\" type=\"success\" @click=\"this.initSalaries\"></el-button>\r\n        </div>\r\n        <div style=\"margin-top: 10px\">\r\n            <el-table :data=\"salaries\" border stripe>\r\n                <el-table-column type=\"selection\" width=\"55\"></el-table-column>\r\n                <el-table-column width=\"120\" prop=\"name\" label=\"账套名称\"></el-table-column>\r\n                <el-table-column width=\"70\" prop=\"basicSalary\" label=\"基本工资\"></el-table-column>\r\n                <el-table-column width=\"70\" prop=\"trafficSalary\" label=\"交通补助\"></el-table-column>\r\n                <el-table-column width=\"70\" prop=\"lunchSalary\" label=\"午餐补助\"></el-table-column>\r\n                <el-table-column width=\"70\" prop=\"bonus\" label=\"奖金\"></el-table-column>\r\n                <el-table-column width=\"100\" prop=\"createDate\" label=\"启用时间\"></el-table-column>\r\n                <el-table-column align=\"center\" label=\"养老金\">\r\n                    <el-table-column width=\"70\" prop=\"pensionPer\" label=\"比率\"></el-table-column>\r\n                    <el-table-column width=\"70\" prop=\"pensionBase\" label=\"基数\"></el-table-column>\r\n                </el-table-column>\r\n                <el-table-column align=\"center\" label=\"医疗保险\">\r\n                    <el-table-column width=\"70\" prop=\"medicalPer\" label=\"比率\"></el-table-column>\r\n                    <el-table-column width=\"70\" prop=\"medicalBase\" label=\"基数\"></el-table-column>\r\n                </el-table-column>\r\n                <el-table-column align=\"center\" label=\"公积金\">\r\n                    <el-table-column width=\"70\" prop=\"accumulationFundPer\" label=\"比率\"></el-table-column>\r\n                    <el-table-column width=\"70\" prop=\"accumulationFundBase\" label=\"基数\"></el-table-column>\r\n                </el-table-column>\r\n                <el-table-column label=\"操作\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button size=\"mini\" @click=\"showUpdateSalaryView(scope.row)\">编辑</el-button>\r\n                        <el-button type=\"danger\" size=\"mini\" @click=\"deleteSalary(scope.row)\">删除</el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n            <!--增加套账的弹框-->\r\n            <el-dialog\r\n                    :title=\"dialogTitle\"\r\n                    :visible.sync=\"dialogVisible\"\r\n                    width=\"50%\">\r\n                <div style=\"display: flex;justify-content: space-around;align-items: center\">\r\n                    <el-steps direction=\"vertical\" :active=\"activeItemIndex\">\r\n                        <el-step :title=\"itemName\" v-for=\"(itemName,index) in salaryItemName\" :key=\"index\"></el-step>\r\n                    </el-steps>\r\n                    <el-input v-model=\"salary[key]\" v-for=\"(value,key,index) in salary\"\r\n                              :key=\"index\" v-show=\"activeItemIndex==index\" style=\"width: 200px;\" ></el-input>\r\n                </div>\r\n                <span slot=\"footer\" class=\"dialog-footer\">\r\n                     <el-button @click=\"preStep\" size=\"mini\">{{activeItemIndex==10?\"取消\":\"上一步\"}}</el-button>\r\n                     <el-button type=\"primary\" @click=\"nextStep\" size=\"mini\">{{activeItemIndex==10?\"完成\":\"下一步\"}}</el-button>\r\n                </span>\r\n            </el-dialog>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"SalSob\",\r\n        data() {\r\n            return {\r\n                salaries: [],\r\n                dialogVisible:false,\r\n                activeItemIndex:0,\r\n                dialogTitle:'',\r\n                salaryItemName:[\r\n                    '基本工资',\r\n                    '交通补助',\r\n                    '午餐补助',\r\n                    '奖金',\r\n                    '养老金比率',\r\n                    '养老金基数',\r\n                    '医疗保险比率',\r\n                    '医疗保险基数',\r\n                    '公积金比率',\r\n                    '公积金基数',\r\n                    '账套名称'\r\n                ],\r\n                salary:{\r\n                    basicSalary:0,\r\n                    trafficSalary:0,\r\n                    lunchSalary:0,\r\n                    bonus:0,\r\n                    pensionPer:0,\r\n                    pensionBase:0,\r\n                    medicalPer:0,\r\n                    medicalBase:0,\r\n                    accumulationFundPer:0,\r\n                    accumulationFundBase:0,\r\n                    name:\"\"\r\n                }\r\n            }\r\n        },\r\n        mounted() {\r\n            this.initSalaries();\r\n        },\r\n        methods: {\r\n            showUpdateSalaryView(data){\r\n                this.dialogTitle = \"修改工资账套\";\r\n                this.dialogVisible = true;\r\n                this.activeItemIndex = 0;\r\n                this.salary = {\r\n                        basicSalary:data.basicSalary,\r\n                        trafficSalary:data.trafficSalary,\r\n                        lunchSalary:data.lunchSalary,\r\n                        bonus:data.bonus,\r\n                        pensionPer:data.pensionPer,\r\n                        pensionBase:data.pensionBase,\r\n                        medicalPer:data.medicalPer,\r\n                        medicalBase:data.medicalBase,\r\n                        accumulationFundPer:data.accumulationFundPer,\r\n                        accumulationFundBase:data.accumulationFundBase,\r\n                        name:data.name,\r\n                        id:data.id\r\n                }\r\n            },\r\n            deleteSalary(data){\r\n                this.$confirm('此操作将永久删除【'+data.name+'】套账, 是否继续?', '提示', {\r\n                    confirmButtonText: '确定',\r\n                    cancelButtonText: '取消',\r\n                    type: 'warning'\r\n                }).then(() => {\r\n                    this.deleteRequest(\"/salary/sob/\"+data.id).then(resp=>{\r\n                        if (resp){\r\n                            this.initSalaries();\r\n                        }\r\n                    })\r\n                }).catch(() => {\r\n                    this.$message({\r\n                        type: 'info',\r\n                        message: '已取消删除'\r\n                    });\r\n                });\r\n            },\r\n            preStep(){\r\n                if (this.activeItemIndex==0){\r\n                    alert(\"no\")\r\n                    return\r\n                }else if (this.activeItemIndex==10){\r\n                    this.dialogVisible = false;\r\n                    this.activeItemIndex = 0;\r\n                }\r\n                this.activeItemIndex--;\r\n            },\r\n            nextStep(){\r\n                if (this.activeItemIndex==10){\r\n                    if (this.salary.id){\r\n                        this.putRequest(\"/salary/sob/\",this.salary).then(resp=>{\r\n                            if (resp){\r\n                                this.initSalaries();\r\n                                this.dialogVisible = false;\r\n                            }\r\n                        })\r\n                    }else{\r\n                        this.postRequest(\"/salary/sob/\",this.salary).then(resp=>{\r\n                            if (resp){\r\n                                this.initSalaries();\r\n                                this.dialogVisible = false;\r\n                            }\r\n                        })\r\n                        return\r\n                    }\r\n                }\r\n                this.activeItemIndex++;\r\n            },\r\n            showAddSalaryView(){\r\n                this.salary = {\r\n                    basicSalary:0,\r\n                        trafficSalary:0,\r\n                        lunchSalary:0,\r\n                        bonus:0,\r\n                        pensionPer:0,\r\n                        pensionBase:0,\r\n                        medicalPer:0,\r\n                        medicalBase:0,\r\n                        accumulationFundPer:0,\r\n                        accumulationFundBase:0,\r\n                        name:\"\"\r\n                }\r\n                this.activeItemIndex = 0;\r\n                this.dialogTitle = \"添加工资账套\"\r\n                this.dialogVisible = true;\r\n            },\r\n            initSalaries() {\r\n                this.getRequest(\"/salary/sob/\").then(resp => {\r\n                    if (resp) {\r\n                        this.salaries = resp;\r\n                    }\r\n                })\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}