{"remainingRequest":"D:\\JayResp\\vuevhr\\node_modules\\babel-loader\\lib\\index.js!D:\\JayResp\\vuevhr\\src\\store\\index.js","dependencies":[{"path":"D:\\JayResp\\vuevhr\\src\\store\\index.js","mtime":1583217999717},{"path":"D:\\JayResp\\vuevhr\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\JayResp\\vuevhr\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZSBmcm9tICJ2dWUiOwppbXBvcnQgVnVleCBmcm9tICJ2dWV4IjsKVnVlLnVzZShWdWV4KTsKdmFyIG5vdyA9IG5ldyBEYXRlKCk7CmV4cG9ydCBkZWZhdWx0IG5ldyBWdWV4LlN0b3JlKHsKICBzdGF0ZTogewogICAgcm91dGVzOiBbXSwKICAgIHNlc3Npb25zOiB7fSwKICAgIGhyczogW10sCiAgICBjdXJyZW50U2Vzc2lvbjogbnVsbCwKICAgIGN1cnJlbnRIcjogSlNPTi5wYXJzZSh3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidXNlciIpKSwKICAgIGZpbHRlcktleTogJycsCiAgICBzdG9tcDogbnVsbCwKICAgIGlzRG90OiB7fQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBpbml0Um91dGVzOiBmdW5jdGlvbiBpbml0Um91dGVzKHN0YXRlLCBkYXRhKSB7CiAgICAgIHN0YXRlLnJvdXRlcyA9IGRhdGE7CiAgICB9LAogICAgSU5JVF9DVVJSRU5USFI6IGZ1bmN0aW9uIElOSVRfQ1VSUkVOVEhSKHN0YXRlLCBocikgewogICAgICBzdGF0ZS5jdXJyZW50SHIgPSBocjsKICAgIH0sCiAgICBjaGFuZ2VDdXJyZW50U2Vzc2lvbjogZnVuY3Rpb24gY2hhbmdlQ3VycmVudFNlc3Npb24oc3RhdGUsIGN1cnJlbnRTZXNzaW9uKSB7CiAgICAgIFZ1ZS5zZXQoc3RhdGUuaXNEb3QsIHN0YXRlLmN1cnJlbnRIci51c2VybmFtZSArICcjJyArIGN1cnJlbnRTZXNzaW9uLnVzZXJuYW1lLCBmYWxzZSk7CiAgICAgIHN0YXRlLmN1cnJlbnRTZXNzaW9uID0gY3VycmVudFNlc3Npb247CiAgICB9LAogICAgYWRkTWVzc2FnZTogZnVuY3Rpb24gYWRkTWVzc2FnZShzdGF0ZSwgbXNnKSB7CiAgICAgIHZhciBtc3MgPSBzdGF0ZS5zZXNzaW9uc1tzdGF0ZS5jdXJyZW50SHIudXNlcm5hbWUgKyAnIycgKyBtc2cudG9dOwoKICAgICAgaWYgKCFtc3MpIHsKICAgICAgICAvLyBzdGF0ZS5zZXNzaW9uc1tzdGF0ZS5jdXJyZW50SHIudXNlcm5hbWUrJyMnK21zZy50b10gPSBbXTsKICAgICAgICBWdWUuc2V0KHN0YXRlLnNlc3Npb25zLCBzdGF0ZS5jdXJyZW50SHIudXNlcm5hbWUgKyAnIycgKyBtc2cudG8sIFtdKTsKICAgICAgfQoKICAgICAgc3RhdGUuc2Vzc2lvbnNbc3RhdGUuY3VycmVudEhyLnVzZXJuYW1lICsgJyMnICsgbXNnLnRvXS5wdXNoKHsKICAgICAgICBjb250ZW50OiBtc2cuY29udGVudCwKICAgICAgICBkYXRlOiBuZXcgRGF0ZSgpLAogICAgICAgIHNlbGY6ICFtc2cubm90U2VsZgogICAgICB9KTsKICAgIH0sCiAgICBJTklUX0RBVEE6IGZ1bmN0aW9uIElOSVRfREFUQShzdGF0ZSkgewogICAgICAvL+a1j+iniOWZqOacrOWcsOeahOWOhuWPsuiBiuWkqeiusOW9leWPr+S7peWcqOi/memHjOWujOaIkAogICAgICB2YXIgZGF0YSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd2dWUtY2hhdC1zZXNzaW9uJyk7CgogICAgICBpZiAoZGF0YSkgewogICAgICAgIHN0YXRlLnNlc3Npb25zID0gSlNPTi5wYXJzZShkYXRhKTsKICAgICAgfQogICAgfSwKICAgIElOSVRfSFI6IGZ1bmN0aW9uIElOSVRfSFIoc3RhdGUsIGRhdGEpIHsKICAgICAgc3RhdGUuaHJzID0gZGF0YTsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIGluaXREYXRhOiBmdW5jdGlvbiBpbml0RGF0YShjb250ZXh0KSB7CiAgICAgIGNvbnRleHQuY29tbWl0KCdJTklUX0RBVEEnKTsKICAgIH0KICB9Cn0pOw=="},{"version":3,"sources":["D:/JayResp/vuevhr/src/store/index.js"],"names":["Vue","Vuex","use","now","Date","Store","state","routes","sessions","hrs","currentSession","currentHr","JSON","parse","window","sessionStorage","getItem","filterKey","stomp","isDot","mutations","initRoutes","data","INIT_CURRENTHR","hr","changeCurrentSession","set","username","addMessage","msg","mss","to","push","content","date","self","notSelf","INIT_DATA","localStorage","INIT_HR","actions","initData","context","commit"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AAEAD,GAAG,CAACE,GAAJ,CAAQD,IAAR;AAEA,IAAME,GAAG,GAAG,IAAIC,IAAJ,EAAZ;AAEA,eAAe,IAAIH,IAAI,CAACI,KAAT,CAAe;AAC1BC,EAAAA,KAAK,EAAE;AACHC,IAAAA,MAAM,EAAE,EADL;AAEHC,IAAAA,QAAQ,EAAE,EAFP;AAGHC,IAAAA,GAAG,EAAE,EAHF;AAIHC,IAAAA,cAAc,EAAE,IAJb;AAKHC,IAAAA,SAAS,EAAEC,IAAI,CAACC,KAAL,CAAWC,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,MAA9B,CAAX,CALR;AAMHC,IAAAA,SAAS,EAAE,EANR;AAOHC,IAAAA,KAAK,EAAE,IAPJ;AAQHC,IAAAA,KAAK,EAAE;AARJ,GADmB;AAW1BC,EAAAA,SAAS,EAAE;AACPC,IAAAA,UADO,sBACIf,KADJ,EACUgB,IADV,EACe;AAClBhB,MAAAA,KAAK,CAACC,MAAN,GAAee,IAAf;AACH,KAHM;AAIPC,IAAAA,cAJO,0BAIQjB,KAJR,EAIekB,EAJf,EAImB;AACtBlB,MAAAA,KAAK,CAACK,SAAN,GAAkBa,EAAlB;AACH,KANM;AAOPC,IAAAA,oBAPO,gCAOcnB,KAPd,EAOqBI,cAPrB,EAOqC;AACxCV,MAAAA,GAAG,CAAC0B,GAAJ,CAAQpB,KAAK,CAACa,KAAd,EAAqBb,KAAK,CAACK,SAAN,CAAgBgB,QAAhB,GAA2B,GAA3B,GAAiCjB,cAAc,CAACiB,QAArE,EAA+E,KAA/E;AACArB,MAAAA,KAAK,CAACI,cAAN,GAAuBA,cAAvB;AACH,KAVM;AAWPkB,IAAAA,UAXO,sBAWItB,KAXJ,EAWWuB,GAXX,EAWgB;AACnB,UAAIC,GAAG,GAAGxB,KAAK,CAACE,QAAN,CAAeF,KAAK,CAACK,SAAN,CAAgBgB,QAAhB,GAA2B,GAA3B,GAAiCE,GAAG,CAACE,EAApD,CAAV;;AACA,UAAI,CAACD,GAAL,EAAU;AACN;AACA9B,QAAAA,GAAG,CAAC0B,GAAJ,CAAQpB,KAAK,CAACE,QAAd,EAAwBF,KAAK,CAACK,SAAN,CAAgBgB,QAAhB,GAA2B,GAA3B,GAAiCE,GAAG,CAACE,EAA7D,EAAiE,EAAjE;AACH;;AACDzB,MAAAA,KAAK,CAACE,QAAN,CAAeF,KAAK,CAACK,SAAN,CAAgBgB,QAAhB,GAA2B,GAA3B,GAAiCE,GAAG,CAACE,EAApD,EAAwDC,IAAxD,CAA6D;AACzDC,QAAAA,OAAO,EAAEJ,GAAG,CAACI,OAD4C;AAEzDC,QAAAA,IAAI,EAAE,IAAI9B,IAAJ,EAFmD;AAGzD+B,QAAAA,IAAI,EAAE,CAACN,GAAG,CAACO;AAH8C,OAA7D;AAKH,KAtBM;AAuBPC,IAAAA,SAvBO,qBAuBG/B,KAvBH,EAuBU;AACb;AACA,UAAIgB,IAAI,GAAGgB,YAAY,CAACtB,OAAb,CAAqB,kBAArB,CAAX;;AACA,UAAIM,IAAJ,EAAU;AACNhB,QAAAA,KAAK,CAACE,QAAN,GAAiBI,IAAI,CAACC,KAAL,CAAWS,IAAX,CAAjB;AACH;AACJ,KA7BM;AA8BPiB,IAAAA,OA9BO,mBA8BCjC,KA9BD,EA8BQgB,IA9BR,EA8Bc;AACjBhB,MAAAA,KAAK,CAACG,GAAN,GAAYa,IAAZ;AACH;AAhCM,GAXe;AA6C1BkB,EAAAA,OAAO,EAAE;AACLC,IAAAA,QADK,oBACIC,OADJ,EACa;AACdA,MAAAA,OAAO,CAACC,MAAR,CAAe,WAAf;AACH;AAHI;AA7CiB,CAAf,CAAf","sourcesContent":["import Vue from \"vue\";\r\nimport Vuex from \"vuex\";\r\n\r\nVue.use(Vuex);\r\n\r\nconst now = new Date();\r\n\r\nexport default new Vuex.Store({\r\n    state: {\r\n        routes: [],\r\n        sessions: {},\r\n        hrs: [],\r\n        currentSession: null,\r\n        currentHr: JSON.parse(window.sessionStorage.getItem(\"user\")),\r\n        filterKey: '',\r\n        stomp: null,\r\n        isDot: {}\r\n    },\r\n    mutations: {\r\n        initRoutes(state,data){\r\n            state.routes = data;\r\n        },\r\n        INIT_CURRENTHR(state, hr) {\r\n            state.currentHr = hr;\r\n        },\r\n        changeCurrentSession(state, currentSession) {\r\n            Vue.set(state.isDot, state.currentHr.username + '#' + currentSession.username, false);\r\n            state.currentSession = currentSession;\r\n        },\r\n        addMessage(state, msg) {\r\n            let mss = state.sessions[state.currentHr.username + '#' + msg.to];\r\n            if (!mss) {\r\n                // state.sessions[state.currentHr.username+'#'+msg.to] = [];\r\n                Vue.set(state.sessions, state.currentHr.username + '#' + msg.to, []);\r\n            }\r\n            state.sessions[state.currentHr.username + '#' + msg.to].push({\r\n                content: msg.content,\r\n                date: new Date(),\r\n                self: !msg.notSelf\r\n            })\r\n        },\r\n        INIT_DATA(state) {\r\n            //浏览器本地的历史聊天记录可以在这里完成\r\n            let data = localStorage.getItem('vue-chat-session');\r\n            if (data) {\r\n                state.sessions = JSON.parse(data);\r\n            }\r\n        },\r\n        INIT_HR(state, data) {\r\n            state.hrs = data;\r\n        }\r\n    },\r\n    actions: {\r\n        initData(context) {\r\n            context.commit('INIT_DATA')\r\n        }\r\n    }\r\n\r\n\r\n})"]}]}